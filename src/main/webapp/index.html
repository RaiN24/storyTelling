<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <title>StoryTelling123</title>
</head>


<body>




    <link rel="stylesheet" href="css/layout.css" charset="utf-8"></link>
    <link href="perfect-scrollbar/css/perfect-scrollbar.css" rel="stylesheet">
    <link href="css/buttons.css" rel="stylesheet">

    <script src=".../js/jquery.js"></script>
    <script src="perfect-scrollbar/js/perfect-scrollbar.jquery.js"></script>
    <script src="perfect-scrollbar/js/perfect-scrollbar.js"></script>



    <script src="jslib/jquery.min.js"></script>
    <script src="jslib/d3.js"></script>
    <script src="jslib/underscore-min.js"></script>
    <script src="jslib/bootstrap.min.js"></script>
    <script src="jslib/buttons.js"></script>

    <link rel="stylesheet" href="search_div/css/jquery-labelauty.css">
    <script src="search_div/laydate/laydate.js"></script>
    <script src="js/jquery-latest.min.js"></script>

    <script src="js/angular.min.js" charset="utf-8"></script>


    <div id="top-div">
        <div id="naive" class="block-div">
            <input type="text" id="rangechanging"></input>
            <button class="button button-box button-tiny" id="timeline_play" onclick="rangeChanged(0)"><i class="fa fa-play"></i>&nbsp;&nbsp;更改单位时间跨度</button>
        </div>


        <div id="timeline_bottom" class="block-div">


            <div id="timeline_line">

                <div id="lower_line"></div>
                <div id="upper_line"></div>

            </div>


        </div>



    </div>

	
	<div id="bottom-div">
	
    	<div id="bottom-left-div">

        	<div id="content" class="block-div"></div>

        	<div id="div_5" class="block-div"></div>       

    	</div>
    
    	<div id="bottom-right-div">

			<div id="relation" class="block-div"></div>
	
		</div>

	</div>

    <div id="tooltip">
        <div id="tooltip-Container">
            <div class="tooltip-band"></div>
            <div class="tooltip-rule"></div>
            <div id="tooltip-year"></div>
            <div id="tooltip-title"></div>
            <div id="tooltip-place"></div>
            <div class="tooltip-tail"></div>
        </div>
    </div>





    <script src="search_div/js/jquery-1.8.3.min.js"></script>
    <script src="search_div/js/jquery-labelauty.js"></script>

    <script src="d3.layout.cloud.js"></script>
    <script src="json_by_news.js"></script>
    <script src="json_by_words.js"></script>

    <!-- Google fonts -->
    <link href='https://fonts.googleapis.com/css?family=Oswald:400,300,700' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Raleway:100,300' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,600' rel='stylesheet' type='text/css'>





    <!-- jQuery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>




    <link rel="stylesheet" href="css/tooltip.css" />

    <link rel="stylesheet" href="css/style.css" />

    <script src="js/initialize.js"></script>

    <script src="js/wordleDraw.js"></script>





    <script src="js/timeline.js"></script>
    <script src="js/showTooltip.js"></script>
    <script src="js/new_timelineDraw.js"></script>



    <script>
        /*
		var dateOfEvents = [];
		var timeNode = [];              //Ӊҹ֣քɕǚ˽ߝ
        var month = [31,28,31,30,31,30,31,31,30,31,30,31];
        var width = 840;
        var begin = [2015,7,1];
        var end = [2016,11,9];
        var labels1 = [];                         //ÿٶӉҹ֣Ѽ(ք˽ߝքҠۅ
        var labels2 = []; 
        var values = [];                         //ÿٶӉҹ֣֧ԖÊքƽ߹ֵ
        var span = [];
		*/


        var rects = [];
        var texts = [];
        var candidate = [];
        var csvData = [];
        var jsonData;
        var flag = [];
        var circles = [];
        var scaler = 0;
        var range = 7;
        var tmpData = [];
        var axisDraw;
        var jsonWord = [];
        var keyWords;
        var wordleText;

        var drawColor = []; // decide which rectangular to be highlighted
        var rectSelected = [];
        var rectSelectedFlag = 0;
        var wordleSelected = -1;
        var textToHighlight = [];

        var globalContent = [];

        circles.push([]);
        circles.push([]);

        var fill = d3.scaleOrdinal(d3.schemeCategory20);

        var container = document.querySelector('#content');
        Ps.initialize(container);

        $("#s").val("2015-07-01");
        $("#e").val("2015-09-16");

        /*var tooltip = d3.select("body")
        		.append("div")
            	.attr("class","tooltip") //ԃԚcssʨ׃`ҹʽ
            	.attr("opacity",0.0);*/

        /*var svg1=d3.select("#naive")     
        		.append("svg")    
        		.attr("width", $(window).width()*0.98)       
        		.attr("height", $(window).height()*0.51);*/


        /*var svg3=d3.select("#simple")     
        			.append("svg")          
        			.attr("width", $(window).width()*0.98)       
        			.attr("height", $(window).height()*0.09);*/


        var svg_4 = d3.select("#div_5").append("svg")
            .attr("width", $(window).width() * 0.3)
            .attr("height", $(window).height() * 0.385);


        var svg_5 = d3.select("#content").append("svg")
            .attr("width", $(window).width() * 0.2)
            .attr("height", $(window).height() * 0.385);

        //var svg_6 = d3.select("#relation").append("svg")
        //    .attr("width", $(window).width() * 0.3)
        //    .attr("height", $(window).height() * 0.385);


        //svg_5.append('rect');




        /*d3.csv("data/data2.csv",function(error,csvdata){
        	if(error)
        		console.log(error);
        	csvData = csvdata;
        	
        	//console.log(csvData);
        	
        	
        });*/

        //var tmpjsonData = new Map();

        //$.getJSON("/getAllData", function(data) {

           // jsonData = data;
            //jsonData = data;
            //console.log(typeof data);
            //for(var i in data)
            //console.log(i);
            //console.log(jsonData);
            //timelinePict(svg3,0,12,1,jsonData,csvData,0);
            //timeNode = [];
            //timelinePict(0,12,7,jsonData,csvData,1);
            //updateDots();

            //timeNode = [];
            //spanArrange(begin,end,1);
            //pict_1(svg3,timeNode,values,0,values.length,150,0);
            //updateDots();
            //timeNode = [];
            //spanArrange(begin,end,7);

       // });




        /*$(document).ready(function(){ 
        	var x = $(window).width() * 0.015;
        	var y = $("#simple").offset().top;
        	var h = $("#simple").height();
        	$(".show").animate({left:x+"px",top:y+"px",height:h},10); 
        	$(".show").mousedown(function(e){ 
        		$(this).css("cursor","move");
        		var offset = $(this).offset();
        		var x = $(window).width() * 0.015;
        		var y = $("#simple").offset().top;
        		var h = $("#simple").height();
        		$(".show").animate({left:x+"px",top:y+"px",height:h},10); 
        		
        		$(document).bind("mousemove",function(ev){ 
        			$(".show").stop();
        			var _x = ev.pageX - x;
        			if(_x < $(window).width()*0.015)_x = $(window).width()*0.015;
        			if(_x > $(window).width()*0.9)_x = $(window).width()*0.9;
        			var _y = $("#simple").offset().top;
        			scaler = parseInt((_x-$(window).width()*0.015)/($(window).width())*timeNode.length*0.98);
        			$(".show").animate({left:_x+"px",top:_y+"px"},10); 
        			
        			timelinePict(scaler,scaler+$(".show").width()/($(window).width())*timeNode.length,7,jsonData,csvData,1);
        		}); 

        	}); 

        	$(document).mouseup(function(){ 
        		$(".show").css("cursor","default"); 
        		$(this).unbind("mousemove"); 
        	}) 
        }) */
        d3.json("data/json_by_words.json", function(data) {
            jsonWord = data;
        });


        //console.log(json_by_news);

    </script>

    <script src="https://d3js.org/d3.v4.min.js"></script>
    <script src="http://code.jquery.com/jquery-1.4.1.js"></script>
    <script src="js/relation.js"></script>
    <script src="data/relation_data.js"></script>
    <script> draw_relation(2,30); </script>




</body>
